<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:1,&quot;tests&quot;:1,&quot;passes&quot;:0,&quot;pending&quot;:0,&quot;failures&quot;:1,&quot;start&quot;:&quot;2025-12-19T16:54:44.482Z&quot;,&quot;end&quot;:&quot;2025-12-19T16:56:38.479Z&quot;,&quot;duration&quot;:113997,&quot;testsRegistered&quot;:1,&quot;passPercent&quot;:0,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;463abaa0-88ea-4565-a870-1168680cf05d&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;cypress\\e2e\\Bt16.cy.js&quot;,&quot;file&quot;:&quot;cypress\\e2e\\Bt16.cy.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;bdd59853-a6e2-439e-bda2-dec4606207b6&quot;,&quot;title&quot;:&quot;Notes App - Register -&gt; Login -&gt; Add Note -&gt; Verify -&gt; Delete&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;E2E Notes&quot;,&quot;fullTitle&quot;:&quot;Notes App - Register -&gt; Login -&gt; Add Note -&gt; Verify -&gt; Delete E2E Notes&quot;,&quot;duration&quot;:10592,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;// =====  Đăng ký =====\ncy.visit(`${base}/register`);\n// (Interceptors) - pattern rộng để đỡ lệ thuộc endpoint cụ thể\ncy.intercept(\&quot;POST\&quot;, \&quot;**/register**\&quot;).as(\&quot;register\&quot;);\ncy.intercept(\&quot;POST\&quot;, \&quot;**/login**\&quot;).as(\&quot;login\&quot;);\ncy.intercept(\&quot;POST\&quot;, \&quot;**/notes**\&quot;).as(\&quot;createNote\&quot;);\ncy.intercept(\&quot;DELETE\&quot;, \&quot;**/notes/**\&quot;).as(\&quot;deleteNote\&quot;);\n// Điền form register (ưu tiên label/placeholder)\ncy.contains(/register/i).should(\&quot;be.visible\&quot;); // page loaded\ncy.get(&#x27;input[name=\&quot;name\&quot;], input[placeholder*=\&quot;name\&quot; i], input[aria-label*=\&quot;name\&quot; i]&#x27;).first().clear().type(user.name);\ncy.get(&#x27;input[type=\&quot;email\&quot;], input[name=\&quot;email\&quot;], input[placeholder*=\&quot;email\&quot; i]&#x27;).first().clear().type(user.email);\ncy.get(&#x27;input[type=\&quot;password\&quot;], input[name=\&quot;password\&quot;], input[placeholder*=\&quot;password\&quot; i]&#x27;).first().clear().type(user.password);\n// confirm password nếu có\ncy.get(&#x27;input[name*=\&quot;confirm\&quot; i], input[placeholder*=\&quot;confirm\&quot; i]&#x27;).then($els =&gt; {\n  if ($els.length) cy.wrap($els.first()).clear().type(user.password);\n});\ncy.contains(\&quot;button\&quot;, /register/i).click();\n// Nếu endpoint match được thì chờ request, không thì bỏ qua (để test không chết vì alias không khớp)\ncy.wait(\&quot;@register\&quot;, {\n  timeout: 20000\n}).its(\&quot;response.statusCode\&quot;).should(\&quot;be.oneOf\&quot;, [200, 201, 204]);\n// =====  Đăng nhập =====\n// Nhiều app register xong tự chuyển login; nếu không thì ta visit thẳng\ncy.location(\&quot;href\&quot;).then(href =&gt; {\n  if (!href.includes(\&quot;/login\&quot;)) cy.visit(`${base}/login`);\n});\ncy.get(&#x27;input[type=\&quot;email\&quot;], input[name=\&quot;email\&quot;], input[placeholder*=\&quot;email\&quot; i]&#x27;).first().clear().type(user.email);\ncy.get(&#x27;input[type=\&quot;password\&quot;], input[name=\&quot;password\&quot;], input[placeholder*=\&quot;password\&quot; i]&#x27;).first().clear().type(user.password);\ncy.contains(\&quot;button\&quot;, /login|sign in/i).click();\ncy.wait(\&quot;@login\&quot;, {\n  timeout: 20000\n}).its(\&quot;response.statusCode\&quot;).should(\&quot;be.oneOf\&quot;, [200, 201, 204]);\n// =====Thêm mới ghi chú =====\n// Sau login thường vào /notes hoặc /app\ncy.contains(/my notes|notes/i, {\n  timeout: 20000\n}).should(\&quot;be.visible\&quot;);\n// Click nút Add (fallback nhiều khả năng)\ncy.contains(\&quot;button\&quot;, /add note|new note|add/i).click({\n  force: true\n});\n// Điền form note\ncy.get(&#x27;input[name=\&quot;title\&quot;], input[placeholder*=\&quot;title\&quot; i], input[aria-label*=\&quot;title\&quot; i]&#x27;).first().clear().type(note.title);\ncy.get(&#x27;textarea[name=\&quot;description\&quot;], textarea[placeholder*=\&quot;description\&quot; i], textarea[aria-label*=\&quot;description\&quot; i], textarea&#x27;).first().clear().type(note.description);\n// cy.contains(\&quot;button\&quot;, /save|create|add/i).click({ force: true });\n//nút Create  đang bị che bởi một lớp overlay có z-index quá lớn\ncy.get(\&quot;body\&quot;).then($b =&gt; {\n  if ($b.find(\&quot;div.__cypress-highlight\&quot;).length) {\n    cy.get(\&quot;div.__cypress-highlight\&quot;).should(\&quot;not.be.visible\&quot;);\n  }\n});\ncy.get(&#x27;[data-testid=\&quot;add-new-note\&quot;]&#x27;).scrollIntoView().click();\n// Chờ create note (nếu match được)\ncy.wait(\&quot;@createNote\&quot;, {\n  timeout: 20000\n}).its(\&quot;response.statusCode\&quot;).should(\&quot;be.oneOf\&quot;, [200, 201, 204]);\n// ===== 4) Kiểm tra note đã tồn tại =====\n// Tìm card/row chứa đúng title\ncy.contains(note.title, {\n  timeout: 20000\n}).should(\&quot;be.visible\&quot;);\n// == Xoá ghi chú ==\n// Scope đúng vào “card” chứa title rồi bấm delete trong đó\ncy.contains(note.title).closest(&#x27;[data-testid*=\&quot;note\&quot; i], .note, .card, li, article, div&#x27;).within(() =&gt; {\n  // ưu tiên nút có text Delete, nếu không có thì thử icon/aria-label/data-testid\n  cy.contains(\&quot;button\&quot;, /delete|remove/i).then($btn =&gt; {\n    if ($btn.length) {\n      cy.wrap($btn.first()).click({\n        force: true\n      });\n    } else {\n      cy.get(&#x27;button[aria-label*=\&quot;delete\&quot; i], button[data-testid*=\&quot;delete\&quot; i], [title*=\&quot;delete\&quot; i]&#x27;).first().click({\n        force: true\n      });\n    }\n  });\n});\n// Có app sẽ hỏi confirm\ncy.contains(\&quot;button\&quot;, /yes|confirm|ok/i).then($c =&gt; {\n  if ($c.length) cy.wrap($c.first()).click();\n});\n// Chờ delete request (nếu match được)\ncy.wait(\&quot;@deleteNote\&quot;, {\n  timeout: 20000\n}).its(\&quot;response.statusCode\&quot;).should(\&quot;be.oneOf\&quot;, [200, 204]);\n// Assert note biến mất\ncy.contains(note.title).should(\&quot;not.exist\&quot;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: Timed out retrying after 4000ms: expected 409 to be one of [ 200, 201, 204 ]&quot;,&quot;estack&quot;:&quot;AssertionError: Timed out retrying after 4000ms: expected 409 to be one of [ 200, 201, 204 ]\n    at Context.eval (webpack://gr3/./cypress/e2e/Bt16.cy.js:54:72)&quot;,&quot;diff&quot;:&quot;- 409\n+ [ 200, 201, 204 ]\n&quot;},&quot;uuid&quot;:&quot;22f2f413-a437-4a92-b636-38b7b4cbe5f7&quot;,&quot;parentUUID&quot;:&quot;bdd59853-a6e2-439e-bda2-dec4606207b6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;22f2f413-a437-4a92-b636-38b7b4cbe5f7&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:10592,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;7.2.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.4&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;cypress/reports&quot;,&quot;overwrite&quot;:false,&quot;html&quot;:true,&quot;json&quot;:true},&quot;version&quot;:&quot;6.3.2&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;cypress/reports&quot;,&quot;reportTitle&quot;:&quot;Gr3&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:false,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;cypress\\reports\\assets&quot;,&quot;jsonFile&quot;:&quot;D:\\Gr3\\cypress\\reports\\mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;D:\\Gr3\\cypress\\reports\\mochawesome.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>